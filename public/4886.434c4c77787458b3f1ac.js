"use strict";(self.webpackChunkSolute=self.webpackChunkSolute||[]).push([[4886],{52906:function(e,t,n){var l=n(95318);t.Z=void 0;var r=l(n(64938)),a=n(85893),o=(0,r.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircleOutlined");t.Z=o},4431:function(e,t,n){var l=n(95318);t.Z=void 0;var r=l(n(64938)),a=n(85893),o=(0,r.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");t.Z=o},50336:function(e,t,n){var l=n(95318);t.Z=void 0;var r=l(n(64938)),a=n(85893),o=(0,r.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");t.Z=o},67720:function(e,t,n){var l=n(63366),r=n(87462),a=n(67294),o=n(86010),i=n(27192),c=n(41796),s=n(29602),u=n(89130),d=n(35097),p=n(85893);const m=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],h=(0,s.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,r.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,c.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,r.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,r.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,r.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),f=(0,s.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,r.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),v=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:c,className:s,component:v=(c?"div":"hr"),flexItem:g=!1,light:b=!1,orientation:x="horizontal",role:E=("hr"!==v?"separator":void 0),textAlign:y="center",variant:Z="fullWidth"}=n,S=(0,l.Z)(n,m),w=(0,r.Z)({},n,{absolute:a,component:v,flexItem:g,light:b,orientation:x,role:E,textAlign:y,variant:Z}),C=(e=>{const{absolute:t,children:n,classes:l,flexItem:r,light:a,orientation:o,textAlign:c,variant:s}=e,u={root:["root",t&&"absolute",s,a&&"light","vertical"===o&&"vertical",r&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===c&&"vertical"!==o&&"textAlignRight","left"===c&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,i.Z)(u,d.V,l)})(w);return(0,p.jsx)(h,(0,r.Z)({as:v,className:(0,o.Z)(C.root,s),role:E,ref:t,ownerState:w},S,{children:c?(0,p.jsx)(f,{className:C.wrapper,ownerState:w,children:c}):null}))}));t.Z=v},35097:function(e,t,n){n.d(t,{V:function(){return r}});var l=n(28979);function r(e){return(0,l.Z)("MuiDivider",e)}const a=(0,n(76087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=a},5064:function(e,t,n){n.r(t);var l=n(67294),r=n(54065),a=n(26447),o=n(2658),i=n(99226),c=n(65295),s=n(97896),u=n(76914),d=n(50006),p=n(44290),m=n(73327),h=n(52906),f=n(50336),v=n(9573),g=n(38732),b=n(46926),x=n(56011),E=n(3694),y=n(5977),Z=n(64062),S=n(75113),w=n(28006),C=n.n(w),A=n(42694),P=n(72132),F=n(98401),I=n(96910),N=n(39704),R=n(38498),T=n(32658),k=n(11009),D=n(87817);function j(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,a=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(a.push(l.value),!t||a.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return a}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=(0,p.Z)((function(e){var t,n;return(0,m.Z)({addNewGroupBulk:G({width:"165px"},e.breakpoints.between("1024","1400"),{marginLeft:"0px"}),bottomButtonExpert:{cursor:"pointer",textAlign:"right"},table:{width:"100%",borderSpacing:"0px 0px",border:"1px solid #7070704D","& tr":{"&:nth-child(1)":{"& th":{textAlign:"center",borderBottom:"1px solid #7070704D",fontSize:"15px",color:"#1e1e1f",fontFamily:"Gilroy-Semibold",padding:"5px 10px",backgroundColor:"#b0b0b1","& span":{padding:"0px",color:"#000","& svg":{verticalAlign:"top"}}}}},"& td":{textAlign:"center","&:nth-child(2)":{color:"#428BCA"},"&:last-child":{color:"#428BCA",cursor:"pointer"}}},selectBoxStyle:{"& span":{display:"none"}},selectBoxSectionTarget:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},selctAutTar:(t={width:"14%",marginRight:"7px",position:"relative"},G(t,e.breakpoints.between("1024","1400"),{width:"22%"}),G(t,"& div",{width:"100%",borderRadius:"2px"}),G(t,"& input",{padding:"15px 14px",fontSize:"15px"}),t),actionList:{display:"flex",justifyContent:"flex-end",flexGrow:"1"},selctAutTarDate:(n={color:"#fff",marginRight:"7px",position:"relative"},G(n,e.breakpoints.between("1024","1400"),{width:"18%"}),G(n,"& input",{padding:"10px 0px 10px 10px",border:"1px solid #cccccc",borderRadius:"4px"}),n),calendarIcon:{position:"absolute",right:"40px",top:"14px",color:"#8F8FB3",fontSize:"14px",zIndex:"99"},datePicker:{height:"48px"},textField:{color:"#428BCA",border:"1px solid #428BCA",fontSize:"15px",fontFamily:"Gilroy-Semibold",padding:"5px 10px","& input":{color:"#428BCA"}},saleRate:{border:"none",textAlign:"center",width:"85px",height:"40px",display:"inline-block",lineHeight:"26px",borderRadius:"4px",backgroundColor:e.palette.grey[300]},saleRateActive:{border:"none",textAlign:"center",width:"85px",height:"40px",display:"inline-block",lineHeight:"26px",borderRadius:"4px",backgroundColor:e.palette.grey[200]}})})),L={option:function(e){return z({},e)},control:function(e){return z(z({},e),{},{width:"100%",fontSize:"15px"})},menu:function(e){return z(z({},e),{},{borderRadius:0})},menuList:function(e){return z(z({},e),{},{minWidth:200,fontSize:"18px",fontFamily:"Gilroy-Semibold"})},container:function(e){return z(z({},e),{},{width:"19% !important",marginRight:"10px","&:last-child":{marginRight:"0px"}})},indicatorsContainer:function(e){return z(z({},e),{},{color:"#fff",alignItems:"baseline"})}},H={option:function(e){return z({},e)},control:function(e){return z(z({},e),{},{width:"100%",fontSize:"15px"})},menu:function(e){return z(z({},e),{},{borderRadius:0})},menuList:function(e){return z(z({},e),{},{fontSize:"18px",fontFamily:"Gilroy-Semibold"})},container:function(e){return z(z({},e),{},{width:"100% !important","&:last-child":{marginRight:"0px"}})},indicatorsContainer:function(e){return z(z({},e),{},{alignItems:"baseline"})}};t.default=function(){var e=(0,N.I0)(),t=(0,N.v9)((function(e){return e.product.allProduct})),p=(0,N.v9)((function(e){return e.customer.allCustomer})),m=(0,N.v9)((function(e){return e.customer.selectedCustomer})),w=V(),B=(0,y.k6)(),Q=(0,N.v9)((function(e){return e.sale.selectedTransaction})),M=O((0,l.useState)([]),2),W=M[0],U=M[1],$=O((0,l.useState)(0),2),_=$[0],J=$[1],q=O((0,l.useState)(!1),2),X=q[0],Y=q[1],K=O((0,l.useState)(new Date),2),ee=K[0],te=(K[1],O((0,l.useState)({Name:"",Customer:""}),2)),ne=te[0];te[1],console.log("selectedTransaction",Q),console.log("xxxxxxxx",p);var le=(0,l.useCallback)((function(e){Y(!1),e&&e.Payload&&e.Payload.length&&(sessionStorage.setItem("sale",JSON.stringify(e)),sessionStorage.setItem("selectedDate",n.g.saleDate),(0,P.Am)("Sales Record Created Successfully"),B.push(I.vB.sale.receipt))}),[]);(0,l.useEffect)((function(){n.g.selectedCustomer=void 0,sessionStorage.removeItem("sale"),sessionStorage.removeItem("selectedCustomer");var l=(0,F.n5)(),r=(0,F.vI)();t.length||e((0,R.VI)({UserID:l,BusinessID:r})),p.length||e((0,T.NT)({UserID:l,BusinessID:r})),m&&ue({value:m._id,Name:m.Name})}),[m]);var re,ae=Object.keys(t).map((function(e){return console.log("prd",t[e].Name),{label:t[e].Name,value:t[e]._id}})),oe=[{label:"CASH",value:"CASH"},{label:"RTGS",value:"RTGS"},{label:"IMPS",value:"IMPS"},{label:"UPI",value:"UPI"},{label:"CHEQUE",value:"CHEQUE"},{label:"CARD",value:"CARD"}],ie=function(e){var t=j(W);t.splice(e,1),U(t)},ce=function(){var e=0;return W.forEach((function(t){e+=parseFloat(t.FinalPrice)})),e.toFixed(2)},se=Object.keys(p).map((function(e){return console.log("prd",e),{label:p[e].Name,value:p[e]._id}})),ue=function(t){console.log("handleChangeCustomer",t);var l=t&&t.value||"",r=p.filter((function(e){return e._id===l}));r.length?((0,k.I0)(z(z({},Q),{},{selectedCustomer:r[0]})),e((0,T.AH)(r[0])),n.g.selectedCustomer=r[0]):(n.g.selectedCustomer=void 0,(0,T.AH)({}),(0,k.I0)(z(z({},Q),{},{selectedCustomer:void 0})))};return console.log("Selected Transaction ",Q),l.createElement(Z.Z,{title:"Sale"},l.createElement(l.Fragment,null,l.createElement(r.Z,null,l.createElement(P.Ix,null),X?l.createElement(A.Z,null):null,l.createElement(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5},l.createElement(o.Z,{variant:"h4",gutterBottom:!0},"Sale"),l.createElement(i.Z,{className:w.actionList},l.createElement(d.ZP,{options:se,placeholder:"Party Name",name:"partyName",className:w.selectBoxStyle,styles:L,isClearable:!0,value:m,onChange:ue}),l.createElement(D.S,null))),l.createElement(c.Z,null,l.createElement(i.Z,null,l.createElement(s.Z,{sx:{minWidth:800}},l.createElement(v.Z,null,l.createElement(x.Z,null,l.createElement(E.Z,null,l.createElement(b.Z,null,"Product"),l.createElement(b.Z,null,"Mode"),"61ac91ed68b40d644a588608"===(0,F.vI)()&&l.createElement(b.Z,null,"Vehicle No."),l.createElement(b.Z,null,"Rate"),l.createElement(b.Z,null,"Qty"),l.createElement(b.Z,null,"Sale Tax"),l.createElement(b.Z,null,"Amount"),l.createElement(b.Z,null,"Action"))),l.createElement(g.Z,null,l.createElement(E.Z,null,l.createElement(b.Z,null,l.createElement(d.ZP,{options:ae,placeholder:"Select Product",name:"product",value:ae.filter((function(e){return e.label===Q.selectedProduct.Name})),className:w.selectBoxStyle,styles:H,onChange:function(n,l){l.name;var r=n&&n.value||"",a=t.filter((function(e){return e._id===r}));a.length&&e((0,k.I0)(z(z({},Q),{},{selectedProduct:a[0]})))}}),l.createElement(i.Z,null,ne.Name&&ne.Name)),l.createElement(b.Z,null,l.createElement(d.ZP,{options:oe,placeholder:"Select Mode",name:"Mode",value:oe.filter((function(e){return e.value===Q.Mode})),className:w.selectBoxStyle,styles:H,onChange:function(t,n){n.name;var l=t&&t.value||"";l&&e((0,k.I0)(z(z({},Q),{},{Mode:l})))}})),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRate,placeholder:"0",value:Q.selectedProduct.FinalPrice?Q.selectedProduct.FinalPrice:""}))),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{name:"Quantity",onChange:function(t){var n,l=z(z({},Q),{},G({},t.target.name,t.target.value));e((0,k.I0)(l)),n=l,e((0,k.I0)(z(z({},n),{},{Tax:(parseFloat(n.selectedProduct.Tax||0)*parseFloat(n.Quantity)).toFixed(2)})))},className:w.saleRateActive,placeholder:"0",value:Q.Quantity?Q.Quantity:""}))),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRate,placeholder:"0",value:Q.Tax?Q.Tax:"",disabled:!0}))),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRate,placeholder:"0",value:(re=(parseFloat(Q.selectedProduct.FinalPrice)*parseFloat(Q.Quantity)).toFixed(2),isNaN(re)?0:re),disabled:!0}))),l.createElement(b.Z,null,l.createElement(i.Z,{style:{cursor:"pointer"},component:"span",color:"primary.dark",onClick:function(t){if(t.preventDefault(),console.log("selectedTransaction",Q),n.g.saleDate=ee,Q.Quantity&&Q.Quantity>0){var l=j(W);l.push({ProductName:Q.selectedProduct.Name,Vehicle:Q.vehicleNo,Price:Q.selectedProduct.Price,Quantity:Q.Quantity,Customer:m&&m._id?m:void 0,CostPrice:(parseFloat(Q.selectedProduct.CGST||0)*parseFloat(Q.Quantity)).toFixed(2),IGST:(parseFloat(Q.selectedProduct.IGST||0)*parseFloat(Q.Quantity)).toFixed(2),CGST:(parseFloat(Q.selectedProduct.CGST||0)*parseFloat(Q.Quantity)).toFixed(2),SGST:(parseFloat(Q.selectedProduct.SGST||0)*parseFloat(Q.Quantity)).toFixed(2),VAT:(parseFloat(Q.selectedProduct.VAT||0)*parseFloat(Q.Quantity)).toFixed(2),CESS:(parseFloat(Q.selectedProduct.CESS||0)*parseFloat(Q.Quantity)).toFixed(2),Tax:(parseFloat(Q.selectedProduct.Tax||0)*parseFloat(Q.Quantity)).toFixed(2),MRP:Q.selectedProduct.MRP?(parseFloat(Q.selectedProduct.MRP||0)*parseFloat(Q.Quantity)).toFixed(2):0,FinalPrice:(parseFloat(Q.selectedProduct.FinalPrice||0)*parseFloat(Q.Quantity)).toFixed(2),Mode:Q.Mode||"CASH",Product:Q.selectedProduct,SaleDate:ee}),U(l),e((0,k.I0)())}}},l.createElement(h.Z,null)))),W.length?W.map((function(e,t){return l.createElement(E.Z,{key:t},l.createElement(b.Z,null,e.ProductName),l.createElement(b.Z,null,e.Mode),"61ac91ed68b40d644a588608"===(0,F.vI)()&&l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{name:"vehicleNo",className:w.saleRateActive,placeholder:"Vehicle No",value:e.vehicle,disabled:!0}))),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRateActive,placeholder:"0",value:e.Price,disabled:!0}))),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{name:"Quantity",className:w.saleRateActive,placeholder:"0",value:e.Quantity,disabled:!0}))),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRateActive,placeholder:"0",value:e.Tax,disabled:!0}))),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRateActive,placeholder:"0",value:e.FinalPrice,disabled:!0}))),l.createElement(b.Z,null,l.createElement(i.Z,{style:{cursor:"pointer"},component:"span",color:"error.dark",onClick:ie},l.createElement(f.Z,null))))})):l.createElement(E.Z,null,l.createElement(b.Z,{colSpan:8},"No Transaction to Display")),l.createElement(E.Z,null,l.createElement(b.Z,null,"Total"),l.createElement(b.Z,{colSpan:5}),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRate,placeholder:"0",value:ce(),disabled:!0}))),l.createElement(b.Z,{colSpan:1})),l.createElement(E.Z,null,l.createElement(b.Z,null,"Recieved"),l.createElement(b.Z,{colSpan:5}),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{name:"recieve",onChange:function(e){var t=(parseFloat(ce())-parseFloat(e.target.value)).toFixed(2);J(t)},className:w.saleRateActive,placeholder:"0"}))),l.createElement(b.Z,null)),l.createElement(E.Z,null,l.createElement(b.Z,null,"Return"),l.createElement(b.Z,{colSpan:5}),l.createElement(b.Z,null,l.createElement(i.Z,{component:"span"},l.createElement("input",{className:w.saleRate,placeholder:"0",value:_,disabled:!0}))),l.createElement(b.Z,null))))))),l.createElement(i.Z,{py:3,className:w.bottomButtonExpert},l.createElement(u.Z,{variant:"outlined",className:w.addNewGroupBulk,onClick:function(e){!function(){sessionStorage.setItem("transactions",JSON.stringify(W));var e={UserID:(0,F.n5)(),BusinessID:(0,F.vI)(),Transactions:W};Y(!0),(0,S.SL)(C().CREATE_SALE,e,le)}()},disabled:!(W&&W.length)},"Sale")))))}}}]);