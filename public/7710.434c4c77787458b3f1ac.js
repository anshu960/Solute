"use strict";(self.webpackChunkSolute=self.webpackChunkSolute||[]).push([[7710],{19396:function(e,t,r){var n=r(95318);t.Z=void 0;var a=n(r(64938)),l=r(85893),o=(0,a.default)((0,l.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");t.Z=o},97710:function(e,t,r){r.r(t),r.d(t,{default:function(){return ye}});var n=r(67294),a=r(54065),l=r(26447),o=r(2658),c=r(99226),i=r(44290),u=r(73327),s=r(64062),m=r(75113),p=r(28006),f=r.n(p),d=r(42694),y=r(72132),b=r(98401),h=r(4431),g=r(76914),E=r(5977),v=r(15725),P=r(77750),x=r(56408),Z=r(12981),O=r(88979);function S(e){var t=e.handleConfirm,r=e.setOpen;return n.createElement(n.Fragment,null,n.createElement(g.Z,{variant:"contained",color:"info",onClick:function(){r(!1)}},"Cancel"),n.createElement(g.Z,{variant:"contained",color:"success",onClick:t},"Confirm"))}var w=r(50006),C=r(55748),j=[{id:"Available",label:"Available",type:"checkbox",placeholder:"Select Available"},{id:"Number",label:"Room Number",type:"text",placeholder:"Enter Room Number"},{id:"Name",label:"Room Name",type:"text",placeholder:"Enter Room Name"},{id:"Bed",label:"Extra Bed",type:"select",placeholder:"Select Extra Bed",options:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3}]},{id:"Description",label:"Description",type:"text",placeholder:"Enter Description",multiline:!0},{id:"MRP",label:"MRP",type:"Number",placeholder:"Enter MRP"},{id:"CostPrice",label:"Cost Price/Price you paid to buy (Will not show anywhere)",type:"Number",placeholder:"Enter Cost Price"},{id:"Price",label:"Price",type:"Number",placeholder:"Enter Price"},{id:"FinalPrice",label:"Final Price",type:"Number",placeholder:"Final Price"},{id:"Reserved",label:"Reserved",type:"checkbox",placeholder:"Select Reserved"},{id:"CheckIn",label:"Check In",type:"date",placeholder:"Enter Check In"},{id:"CheckOut",label:"Check Out",type:"date",placeholder:"Enter Check Out"}],I=r(39704),A=r(41218),k=r(38498),D=r(19396),R=r(13356);function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function N(e){var t=e.files,r=e.setFiles,a=function(e){return URL.createObjectURL(t[e])};return n.createElement(R.ZP,{onDrop:function(e){return function(e){e.length&&r(e)}(e)},accept:"image/*",multiple:!0},(function(e){var r=e.getRootProps,l=e.getInputProps;return n.createElement(c.Z,U({mt:2},r()),n.createElement("input",l()),n.createElement(g.Z,{style:{cursor:"pointer",width:"165px"},variant:"outlined",startIcon:n.createElement(D.Z,null)},"Upload Image"),t.map((function(e,t){return n.createElement(c.Z,{component:"img",alt:"Image",src:a(t),sx:{width:200,height:200,marginTop:3}})})))}))}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e){var t=e.setOpen,r=e.setLoading,a=(0,I.I0)(),i=M((0,n.useState)({}),2),u=i[0],s=i[1],p=(0,n.useRef)(null),d=M((0,n.useState)(!1),2),y=d[0],b=d[1],h=M((0,n.useState)([]),2),E=h[0],D=h[1],R=M((0,n.useState)(!1),2),U=R[0],T=R[1];n.useEffect((function(){}),[]);var B=function(e){s(F(F({},u),{},L({},e.target.name,e.target.value)))},_=n.useCallback((function(e){r(!1),console.log("handleUpdateCustomerEvent",e),e&&e.status&&"success"===e.status||console.log("Unable to find customer, please try after some time")}),[]),z=function(e,t){var r=t.name,n=e&&e.value||"";s(F(F({},u),{},L({},r,n)))},H=function(e){var t=L({},e.target.name,e.target.checked);u.TaxIncluded&&(t.FinalPrice=parseFloat(parseFloat(u.Price)+parseFloat(t.Tax)).toFixed(2)),a((0,k.l1)(t))},$=function(){return j.map((function(e){return n.createElement(v.ZP,{item:!0,xs:12,md:12,lg:6,xl:4},n.createElement(l.Z,{spacing:3},n.createElement(o.Z,{variant:"subtitle2"},e.label),function(e){switch(e.type){case"checkbox":return function(e){return n.createElement(A.Z,{name:e.id,color:"primary",checked:u[e.id],onChange:H,label:e.label,autoComplete:e.id})}(e);case"select":return function(e){return n.createElement(w.ZP,{name:e.id,options:e.options,placeholder:e.placeholder,isClearable:!0,value:e.options.filter((function(t){return t.value===u[e.id]})),onChange:z})}(e);default:return function(e){return n.createElement(C.Z,{fullWidth:!0,placeholder:e.placeholder,onChange:B,name:e.id,autoComplete:e.id,value:u[e.id],type:e.type,multiline:!!e.multiline,disabled:e.disabled})}(e)}}(e)))}))};return n.createElement(n.Fragment,{style:{outerHeight:800}},n.createElement(P.Z,{dividers:!0},n.createElement(x.Z,{id:"scroll-dialog-description",ref:p,tabIndex:-1},n.createElement("form",{action:""},n.createElement(l.Z,{spacing:3},n.createElement(l.Z,{direction:{xs:"column",sm:"row"},spacing:2},n.createElement(v.ZP,{container:!0,spacing:3,py:2},$(),n.createElement(v.ZP,{item:!0,xs:12,md:12,lg:12,xl:12},n.createElement(l.Z,{spacing:3},n.createElement(c.Z,{sx:{mt:3}},n.createElement(g.Z,{size:"small",onClick:function(){return b(!y)}},"Tax Details")))),n.createElement(v.ZP,{item:!0,xs:12,md:12,lg:12,xl:12},n.createElement(l.Z,{spacing:3},n.createElement(Z.Z,{in:y},n.createElement(v.ZP,{container:!0,spacing:3,py:2},$())))),n.createElement(v.ZP,{item:!0,xs:12,md:12,lg:12,xl:12},n.createElement(l.Z,{spacing:3},n.createElement(c.Z,{sx:{mt:3}},n.createElement(g.Z,{size:"small",onClick:function(){return T(!U)}},"Amenities")))),n.createElement(v.ZP,{item:!0,xs:12,md:12,lg:12,xl:12},n.createElement(l.Z,{spacing:3},n.createElement(Z.Z,{in:U},n.createElement(v.ZP,{container:!0,spacing:3,py:2},$())))),n.createElement(v.ZP,{item:!0,xs:12,md:12,lg:12,xl:12},n.createElement(l.Z,{spacing:3},n.createElement(o.Z,{variant:"subtitle2"},"Room Image"),n.createElement(N,{files:E,setFiles:D}))))))))),n.createElement(O.Z,{sx:{justifyContent:"end"}},n.createElement(S,{handleConfirm:function(){r(!0),t(!1);var e=F({},u);console.log("UPDATE_CUSTOMER REQUEST",e),(0,m.SL)(f().UPDATE_CUSTOMER,e,_)},setOpen:t})))}var z=r(77512);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(){(0,E.k6)();var e=H((0,n.useState)(!1),2),t=e[0],r=e[1],a=H((0,n.useState)(!1),2),l=a[0],o=a[1];return n.createElement(n.Fragment,null,l?n.createElement(d.Z,null):null,n.createElement(z.r,{body:n.createElement(_,{setOpen:r,setLoading:o}),handleClose:function(){r(!1)},scroll:"paper",title:"Add Hotel",open:t,dialogWidth:"xl"}),n.createElement(g.Z,{variant:"outlined",onClick:function(){r({open:!0})},startIcon:n.createElement(h.Z,null)},"Add Room"))}var q=r(66186),G=r(6634),Q=r(36501),V=r(57797),J=r(67109),K=r(73727),X=r(14113),Y=r(80010),ee=(0,r(29602).ZP)("input")((function(e){return{border:"none",textAlign:"center",width:"100px",height:"40px",display:"inline-block",lineHeight:"26px",borderRadius:"4px",backgroundColor:e.theme.palette.grey[200]}})),te=r(96910);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ce(e){var t=e.product,r=e.selectedDate,a=(0,I.I0)(),l=(0,E.k6)(),i=le((0,n.useState)(!1),2),u=(i[0],i[1]),s=le((0,n.useState)({price:""}),2),p=s[0],d=s[1],h=(0,n.useCallback)((function(e){u(!1),console.log("handleUpdateProductEvent",e),e&&e.status?(0,y.Am)("Product Updated in server"):(console.log("Unable to update product, please try after some time"),(0,y.Am)("Unable to update Product in server"))}),[]);return n.createElement(v.ZP,{item:!0,xs:12,sm:6,md:3},n.createElement(G.Z,{component:K.rU,onClick:function(){a((0,k.CE)(t)),l.push({pathname:te.vB.product.productProfile,search:"?id=".concat(t._id)})},underline:"none"},n.createElement(Q.Z,{sx:{p:1,boxShadow:function(e){return e.customShadows.z8},"&:hover img":{transform:"scale(1.1)"}}},n.createElement(V.Z,{sx:{borderRadius:1,color:"primary.main",bgcolor:"background.neutral",justifyContent:"center",display:"flex",alignItems:"center"}},t.Image&&t.Image.length?t.Image.map((function(e,r){return n.createElement(J.Z,{sx:{marginLeft:r?"-30px":"0px",height:"75px",width:"75px"}},n.createElement("img",{style:{height:"100px",width:"100px"},src:e,alt:t.Name}))})):n.createElement(Y.Z,{sx:{height:"75px",width:"75px"}})),n.createElement(o.Z,{variant:"subtitle2",sx:{mt:1,p:1}},t.Name),n.createElement(c.Z,{sx:{display:"flex",alignItems:"center"}},n.createElement(o.Z,{variant:"subtitle2",sx:{mt:1,p:1}},n.createElement(ee,{name:"Price",onChange:function(e){return function(e){e.preventDefault(),d(ne(ne({},p),{},ae({},e.target.name,e.target.value)))}(e)},placeholder:"0",value:p.price?p.price:t.FinalPrice})),p.price?n.createElement(c.Z,{style:{cursor:"pointer"},component:"span",color:"primary.dark",onClick:function(){!function(e){var t={UserID:(0,b.n5)(),BusinessID:(0,b.vI)(),Name:e.Name,Price:p.Price,ProductID:e._id,PriceDate:r.toISOString().substring(0,10)};console.log("Product update request = ",t),e.Price>0&&""!==e.Name&&(u(!0),(0,m.SL)(f().UPDATE_PRODUCT_PRICE,t,h))}(t)}},n.createElement(X.Z,null)):null))))}function ie(e){var t=e.productList,r=e.selectedDate;return n.createElement(v.ZP,{container:!0,spacing:3,sx:{my:10}},t.length?t.map((function(e){return n.createElement(ce,{product:e,selectedDate:r})})):n.createElement(v.ZP,{item:!0,xs:12},n.createElement(c.Z,null,n.createElement(q.Z,{variant:"outlined",severity:"info"},"No Product to Display Please Add Product"))))}r(19711);var ue=r(5041);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fe=(0,i.Z)((function(e){return(0,u.Z)({actionList:{display:"flex",justifyContent:"flex-end",flexGrow:"1"},datePicker:{height:"48px"}})})),de={Name:"",Price:""},ye=function(){var e=fe(),t=me((0,n.useState)(de),2),r=(t[0],t[1]),i=me((0,n.useState)([]),2),u=i[0],p=i[1],h=me((0,n.useState)(0),2),g=(h[0],h[1],me((0,n.useState)(!1),2)),E=g[0],v=g[1],P=me((0,n.useState)(new Date),2),x=P[0],Z=P[1];(0,n.useEffect)((function(){O()}),[x]);var O=function(){v(!0);var e={UserID:(0,b.n5)(),BusinessID:(0,b.vI)(),Date:x};console.log("request",e),(0,m.SL)(f().RETRIVE_PRODUCT,e,S)},S=(0,n.useCallback)((function(e){v(!1),console.log("handleRetriveProductsEvent",e,se(e.Payload)),e&&e.Payload&&e.Payload.length>0?(p(e.Payload),r(de)):console.log("Unable to find customer, please try after some time")}),[]);return n.createElement(s.Z,{title:"Rooms"},n.createElement(n.Fragment,null,n.createElement(a.Z,null,E?n.createElement(d.Z,null):null,n.createElement(y.Ix,null),n.createElement(l.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5},n.createElement(o.Z,{variant:"h4",gutterBottom:!0},"Rooms"),n.createElement(c.Z,{className:e.actionList},n.createElement(ue.L,{selectedDate:x,setDate:Z}),n.createElement(W,null))),n.createElement(ie,{productList:u,selectedDate:x}))))}}}]);