"use strict";(self.webpackChunkfuelme=self.webpackChunkfuelme||[]).push([[3683],{64062:function(e,t,n){var r=n(67294),o=n(45697),l=n.n(o),a=n(99226),i=["children","title"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=(0,r.forwardRef)((function(e,t){var n=e.children,o=e.title,l=void 0===o?"":o,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);return r.createElement(a.Z,c({ref:t},u),r.createElement(a.Z,null,r.createElement("title",null,l)),n)}));u.propTypes={children:l().node.isRequired,title:l().string},t.Z=u},83683:function(e,t,n){n.r(t),n.d(t,{default:function(){return de}});var r=n(67294),o=n(73727),l=n(5977),a=n(29602),i=n(15725),c=n(6634),u=n(36501),s=n(57797),f=n(2658),m=n(67109),p=n(99226),d=n(54065),b=n(64062),y=(n(65444),n(4431)),g=n(11145),h=n(72132),v=n(77512),E=n(75113),x=n(28006),O=n.n(x),Z=n(77750),w=n(56408),j=n(98619),k=n(70417),I=n(59334),P=n(88979),S=n(76914),C=n(96910);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={backgroundColor:"aliceblue",color:"info.main"};function R(e){var t=e.history,n=e.businessTypes,o=e.businessId,l=e.setBusinessId,a=e.handleClose,c=e.open,u=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(c){var e=u.current;null!==e&&e.focus()}}),[c]),r.createElement(r.Fragment,null,r.createElement(Z.Z,{dividers:!0},r.createElement(w.Z,{id:"scroll-dialog-description",ref:u,tabIndex:-1},r.createElement(i.ZP,{container:!0},n.map((function(e){return r.createElement(i.ZP,{item:!0,xs:12,sm:6,md:4},r.createElement(j.Z,{onClick:function(){return l(e._id)},sx:e._id===o?T:{}},r.createElement(k.Z,null,r.createElement(m.Z,{sx:e._id===o?A(A({},T),{},{backgroundColor:"info.lighter"}):{}},r.createElement("img",{style:{height:"20px",width:"20px"},src:e.Image[0],alt:e.Name}))),r.createElement(I.Z,{primary:e.Name})))}))))),r.createElement(P.Z,null,r.createElement(S.Z,{variant:"contained",color:"warning",onClick:a},"Cancel"),r.createElement(S.Z,{variant:"contained",onClick:function(){return t.push({pathname:C.EE.register,search:"?id=".concat(o)})},disabled:!o},"Proceed")))}var U=n(45697),F=n.n(U),_=n(41796),M=n(33720),N=n(54386),H=n(26447),J=n(6867),W=n(67720),z=n(33797),q=n(29284),L=n(10402),K=n(74276),$=n(98401);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=[{label:"Profile",linkTo:C.ko.profile}];function te(){var e=(0,l.k6)(),t=(0,r.useRef)(null),n=Q((0,r.useState)(!1),2),a=n[0],i=n[1],c=Q((0,r.useState)({}),2),u=c[0],s=c[1];(0,r.useEffect)((function(){var e=(0,$.tB)();s(e)}),[]);var m=function(){i(!1)};return r.createElement(r.Fragment,null,r.createElement(J.Z,{ref:t,onClick:function(){i(!0)},sx:X({padding:0,width:44,height:44},a&&{"&:before":{zIndex:1,content:"''",width:"100%",height:"100%",borderRadius:"50%",position:"absolute",bgcolor:function(e){return(0,_.Fq)(e.palette.grey[900],.72)}}})},r.createElement(L.Z,null)),r.createElement(q.Z,{open:a,onClose:m,anchorEl:t.current,sx:{width:220}},r.createElement(p.Z,{sx:{my:1.5,px:2.5}},r.createElement(f.Z,{variant:"subtitle1",noWrap:!0},u&&u.Name||"")),r.createElement(W.Z,{sx:{my:1}}),ee.map((function(e){return r.createElement(z.Z,{key:e.label,to:e.linkTo,component:o.rU,onClick:m,sx:{typography:"body2",py:1,px:2.5}},e.label)})),r.createElement(W.Z,{sx:{my:1}}),r.createElement(p.Z,{sx:{p:2,pt:1.5}},r.createElement(S.Z,{fullWidth:!0,color:"inherit",variant:"outlined",onClick:function(){(0,K.kS)(e)}},"Logout"))))}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=(0,a.ZP)(M.Z)((function(e){var t=e.theme;return ne({boxShadow:"none",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",backgroundColor:(0,_.Fq)(t.palette.background.default,.72)},t.breakpoints.up("lg"),{width:"calc(100% - ".concat(281,"px)")})})),oe=(0,a.ZP)(N.Z)((function(e){var t=e.theme;return ne({minHeight:64},t.breakpoints.up("lg"),{minHeight:92,padding:t.spacing(0,5)})}));function le(){return r.createElement(re,null,r.createElement(oe,null,r.createElement(p.Z,{sx:{flexGrow:1}}),r.createElement(H.Z,{direction:"row",alignItems:"center",spacing:{xs:.5,sm:1.5}},r.createElement(te,null))))}le.propTypes={onOpenSidebar:F().func};var ae=n(39704),ie=n(19711),ce=n(38513),ue=n(26517),se=n(71983);function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pe=(0,a.ZP)(b.Z)((function(e){var t=e.theme;return{minHeight:"100%",paddingTop:t.spacing(15),paddingBottom:t.spacing(10)}}));function de(){var e=(0,ae.I0)(),t=(0,l.k6)(),n=fe(r.useState(!1),2),a=n[0],b=n[1],x=fe(r.useState(),2),Z=x[0],w=x[1],j=(0,ae.v9)((function(e){return e.business.allBusiness})),k=(0,ae.v9)((function(e){return e.businessTypes.businessTypes})),I=(0,ae.v9)((function(e){return e.room.isConnected}));(0,r.useEffect)((function(){var n=(0,$.n5)(),r=(0,$.vI)();n||(n=(0,ue.K)(),(0,E.zU)(O().JOIN_ROOM,{ROOM_ID:n},P)),console.log("useEffect",n,r),I&&(e((0,ie.cf)({UserID:n,BusinessID:r})),e((0,ce.J)({UserID:n}))),(0,$.n5)()&&(0,$.PR)()||t.push(C.EE.login)}),[I]);var P=r.useCallback((function(t){console.log("handleJoinRoomEvent Home",t);var n=(0,$.n5)();e((0,ce.J)({UserID:n}))}),[]),S=function(e){var t=k.filter((function(t){return t._id===e}));if(t&&t.length&&t[0].Image)return t[0].Image[0]};console.log(j);var D=function(){return b(!1)};return r.createElement(pe,{title:"Home"},r.createElement(h.Ix,null),r.createElement(le,null),r.createElement(d.Z,{maxWidth:"lg"},r.createElement(p.Z,{sx:{mb:5}},r.createElement(f.Z,{variant:"h3",align:"center",paragraph:!0},"Let's start powering you up!"),r.createElement(f.Z,{align:"center",sx:{color:"text.secondary"}},"Choose/Register business to FuelMe.")),r.createElement(i.ZP,{container:!0,spacing:3,sx:{my:10}},r.createElement(v.r,{body:r.createElement(R,{history:t,businessTypes:k,businessId:Z,setBusinessId:w,handleClose:D,open:a}),handleClose:D,scroll:"paper",title:"Choose Business",open:a,dialogWidth:"xl"}),r.createElement(i.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(c.Z,{component:o.rU,onClick:function(){return b(!0)},underline:"none"},r.createElement(u.Z,{sx:{p:1,boxShadow:function(e){return e.customShadows.z8},"&:hover img":{transform:"scale(1.1)"},height:"240px",overflow:"hidden"}},r.createElement(s.Z,{sx:{p:3,borderRadius:1,color:"primary.main",bgcolor:"background.neutral",justifyContent:"center",display:"flex",alignItems:"center",height:"225px"}},r.createElement(y.Z,null),r.createElement(f.Z,{sx:{marginLeft:"5px"},variant:"h6"}," Add "))))),j&&j.length?j.map((function(n){return r.createElement(i.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(c.Z,{component:o.rU,underline:"none"},r.createElement(u.Z,{sx:{p:1,boxShadow:function(e){return e.customShadows.z8},"&:hover img":{transform:"scale(1.1)"},height:"240px",overflow:"hidden"},onClick:function(){(0,$.XJ)(n._id),(0,$.nK)(n),e((0,ie.Yb)(n,k,(function(e){27===e.BusinessTypeID?t.push(C.vB.fee.fee):t.push(C.vB.sale.sale)})))}},r.createElement(s.Z,{sx:{p:3,borderRadius:1,color:"primary.main",bgcolor:"background.neutral",justifyContent:"space-between",alignItems:"flex-start",display:"flex"}},r.createElement(m.Z,{alt:"business",src:S(n.BusinessTypeID),sx:{width:30,height:30,padding:"3px"}}),r.createElement(f.Z,{variant:"h5",gutterBottom:!0},n.Sale||0)),r.createElement(p.Z,{sx:{display:"flex",alignItems:"center"}},r.createElement("img",{alt:"business",src:S(n.BusinessTypeID),style:{width:20}}),r.createElement(f.Z,{variant:"subtitle2",sx:{p:1,color:"primary.darker"}},n.Name)),r.createElement(p.Z,{sx:{display:"flex",alignItems:"center"}},r.createElement(g.Z,{sx:{width:20,color:"#0433ff"}}),r.createElement(f.Z,{variant:"subtitle2",sx:{p:1,color:"primary.darker"}},n.MobileNumber)),r.createElement(p.Z,{sx:{display:"flex",alignItems:"center"}},r.createElement(se.Z,{sx:{width:20,color:"#0433ff"}}),r.createElement(f.Z,{variant:"subtitle2",sx:{p:1,color:"primary.darker"}},n.Address)))))})):null)))}}}]);