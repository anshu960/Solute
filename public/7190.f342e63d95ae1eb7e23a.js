"use strict";(self.webpackChunkSolute=self.webpackChunkSolute||[]).push([[7190],{64062:function(e,t,n){var r=n(67294),o=n(45697),a=n.n(o),l=n(99226),i=["children","title"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=(0,r.forwardRef)((function(e,t){var n=e.children,o=e.title,a=void 0===o?"":o,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);return r.createElement(l.Z,c({ref:t},u),r.createElement(l.Z,null,r.createElement("title",null,a)),n)}));u.propTypes={children:a().node.isRequired,title:a().string},t.Z=u},57190:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var r=n(67294),o=n(73727),a=n(5977),l=n(29602),i=n(15725),c=n(6634),u=n(36501),s=n(57797),f=n(2658),m=n(99226),p=n(54065),d=n(64062),b=(n(65444),n(4431)),y=n(11145),h=n(72132),g=n(77512),v=n(75113),E=n(28006),x=n.n(E),Z=n(77750),O=n(56408),w=n(98619),k=n(70417),j=n(67109),P=n(59334),I=n(88979),S=n(76914),C=n(96910);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B={backgroundColor:"aliceblue",color:"info.main"};function R(e){var t=e.history,n=e.businessTypes,o=e.businessId,a=e.setBusinessId,l=e.handleClose,c=e.open,u=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(c){var e=u.current;null!==e&&e.focus()}}),[c]),r.createElement(r.Fragment,null,r.createElement(Z.Z,{dividers:!0},r.createElement(O.Z,{id:"scroll-dialog-description",ref:u,tabIndex:-1},r.createElement(i.ZP,{container:!0},n.map((function(e){return r.createElement(i.ZP,{item:!0,xs:12,sm:6,md:4},r.createElement(w.Z,{onClick:function(){return a(e._id)},sx:e._id===o?B:{}},r.createElement(k.Z,null,r.createElement(j.Z,{sx:e._id===o?A(A({},B),{},{backgroundColor:"info.lighter"}):{}},r.createElement("img",{style:{height:"20px",width:"20px"},src:e.Image[0],alt:e.Name}))),r.createElement(P.Z,{primary:e.Name})))}))))),r.createElement(I.Z,null,r.createElement(S.Z,{variant:"contained",color:"warning",onClick:l},"Cancel"),r.createElement(S.Z,{variant:"contained",onClick:function(){return t.push({pathname:C.EE.register,search:"?id=".concat(o)})},disabled:!o},"Proceed")))}var _=n(76887),U={curveType:"function",legend:{position:"none"},backgroundColor:{fill:"transparent"},hAxis:{textPosition:"none",gridlines:{color:"transparent"}},vAxis:{baselineColor:"none",textPosition:"none",gridlines:{color:"transparent"}}};function F(e){var t=e.sale,n=[["instance","Sales"]];return n.push(["1",t/4]),n.push(["2",3*t]),n.push(["3",t/2]),n.push(["4",t]),r.createElement(_.kL,{chartType:"LineChart",width:"80",height:"80",data:n,options:U})}var N=n(45697),H=n.n(N),J=n(41796),L=n(33720),M=n(54386),W=n(26447),z=n(6867),q=n(67720),K=n(33797),$=n(29284),G=n(10402),X=n(39973),Y=n(98401);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re=[{label:"Profile",linkTo:C.ko.profile}];function oe(){var e=(0,a.k6)(),t=(0,r.useRef)(null),n=te((0,r.useState)(!1),2),l=n[0],i=n[1],c=te((0,r.useState)({}),2),u=c[0],s=c[1];(0,r.useEffect)((function(){var e=(0,Y.tB)();s(e)}),[]);var p=function(){i(!1)};return r.createElement(r.Fragment,null,r.createElement(z.Z,{ref:t,onClick:function(){i(!0)},sx:V({padding:0,width:44,height:44},l&&{"&:before":{zIndex:1,content:"''",width:"100%",height:"100%",borderRadius:"50%",position:"absolute",bgcolor:function(e){return(0,J.Fq)(e.palette.grey[900],.72)}}})},r.createElement(G.Z,null)),r.createElement($.Z,{open:l,onClose:p,anchorEl:t.current,sx:{width:220}},r.createElement(m.Z,{sx:{my:1.5,px:2.5}},r.createElement(f.Z,{variant:"subtitle1",noWrap:!0},u&&u.Name||"")),r.createElement(q.Z,{sx:{my:1}}),re.map((function(e){return r.createElement(K.Z,{key:e.label,to:e.linkTo,component:o.rU,onClick:p,sx:{typography:"body2",py:1,px:2.5}},e.label)})),r.createElement(q.Z,{sx:{my:1}}),r.createElement(m.Z,{sx:{p:2,pt:1.5}},r.createElement(S.Z,{fullWidth:!0,color:"inherit",variant:"outlined",onClick:function(){(0,X.kS)(e)}},"Logout"))))}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=(0,l.ZP)(L.Z)((function(e){var t=e.theme;return ae({boxShadow:"none",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",backgroundColor:(0,J.Fq)(t.palette.background.default,.72)},t.breakpoints.up("lg"),{width:"calc(100% - ".concat(281,"px)")})})),ie=(0,l.ZP)(M.Z)((function(e){var t=e.theme;return ae({minHeight:64},t.breakpoints.up("lg"),{minHeight:92,padding:t.spacing(0,5)})}));function ce(){return r.createElement(le,null,r.createElement(ie,null,r.createElement(m.Z,{sx:{flexGrow:1}}),r.createElement(W.Z,{direction:"row",alignItems:"center",spacing:{xs:.5,sm:1.5}},r.createElement(oe,null))))}ce.propTypes={onOpenSidebar:H().func};var ue=n(39704),se=n(19711),fe=n(38513),me=n(26517),pe=n(71983),de=n(96885);function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=(0,l.ZP)(d.Z)((function(e){var t=e.theme;return{minHeight:"100%",paddingTop:t.spacing(15),paddingBottom:t.spacing(10)}}));function ge(){var e=(0,ue.I0)(),t=(0,a.k6)(),n=be(r.useState(!1),2),l=n[0],d=n[1],E=be(r.useState(),2),Z=E[0],O=E[1],w=(0,ue.v9)((function(e){return e.business.allBusiness})),k=(0,ue.v9)((function(e){return e.business_analytics.saleToday})),j=(0,ue.v9)((function(e){return e.businessTypes.businessTypes})),P=(0,ue.v9)((function(e){return e.room.isConnected})),I=function(e){var t=0;return k&&k.length?k.forEach((function(n){n._id===e&&(t=n.TotalSale,console.log("id not matching business matched",n,t,e,k))})):console.log("id not matching business saletoday is empty",k),t};(0,r.useEffect)((function(){var n=(0,Y.n5)(),r=(0,Y.vI)();n||(n=(0,me.K)(),(0,v.zU)(x().JOIN_ROOM,{ROOM_ID:n},S)),console.log("useEffect",n,r),P&&(e((0,se.cf)({UserID:n,BusinessID:r})),e((0,fe.J)({UserID:n}))),(0,Y.n5)()&&(0,Y.PR)()||t.push(C.EE.login)}),[P]);var S=r.useCallback((function(t){console.log("handleJoinRoomEvent Home",t);var n=(0,Y.n5)();e((0,fe.J)({UserID:n}))}),[]),T=function(e){var t=j.filter((function(t){return t._id===e}));if(t&&t.length&&t[0].Image)return t[0].Image[0]};console.log(w);var A=function(){return d(!1)};return r.createElement(he,{title:"Home"},r.createElement(h.Ix,null),r.createElement(ce,null),r.createElement(p.Z,{maxWidth:"lg"},r.createElement(m.Z,{sx:{mb:5}},r.createElement(f.Z,{variant:"h3",align:"center",paragraph:!0},"Let's start powering you up!"),r.createElement(f.Z,{align:"center",sx:{color:"text.secondary"}},"Choose/Register business to Solute.")),r.createElement(i.ZP,{container:!0,spacing:3,sx:{my:10}},r.createElement(g.r,{body:r.createElement(R,{history:t,businessTypes:j,businessId:Z,setBusinessId:O,handleClose:A,open:l}),handleClose:A,scroll:"paper",title:"Choose Business",open:l,dialogWidth:"xl"}),r.createElement(i.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(c.Z,{component:o.rU,onClick:function(){return d(!0)},underline:"none"},r.createElement(u.Z,{sx:{p:1,boxShadow:function(e){return e.customShadows.z8},"&:hover img":{transform:"scale(1.1)"},height:"240px",overflow:"hidden"}},r.createElement(s.Z,{sx:{p:3,borderRadius:1,color:"primary.main",bgcolor:"background.neutral",justifyContent:"center",display:"flex",alignItems:"center",height:"225px"}},r.createElement(b.Z,null),r.createElement(f.Z,{sx:{marginLeft:"5px"},variant:"h6"}," Add "))))),w&&w.length?w.map((function(n){return r.createElement(i.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(c.Z,{component:o.rU,underline:"none"},r.createElement(u.Z,{sx:{p:1,boxShadow:function(e){return e.customShadows.z8},"&:hover img":{transform:"scale(1.1)"},height:"240px",overflow:"hidden"},onClick:function(){(0,Y.XJ)(n._id),(0,Y.nK)(n),e((0,se.Yb)(n,j,(function(e){27===e.BusinessTypeID?t.push(C.vB.fee.fee):t.push(C.vB.sale.sale)})))}},r.createElement(s.Z,{sx:{p:1,borderRadius:1,color:"primary.main",bgcolor:"background.neutral",justifyContent:"space-between",alignItems:"center",display:"flex"}},r.createElement(m.Z,null,r.createElement(F,{sale:I(n._id)})),r.createElement(f.Z,{variant:"h5",gutterBottom:!0,sx:{display:"flex",color:"primary.darker"}},r.createElement(de.Z,{sx:{width:18,color:"primary.darker"}}),r.createElement(f.Z,null," ",I(n._id)))),r.createElement(m.Z,{sx:{display:"flex",alignItems:"center"}},r.createElement("img",{alt:"business",src:T(n.BusinessTypeID),style:{width:20}}),r.createElement(f.Z,{variant:"subtitle2",sx:{p:1,color:"primary.darker"}},n.Name)),r.createElement(m.Z,{sx:{display:"flex",alignItems:"center"}},r.createElement(y.Z,{sx:{width:20,color:"#0433ff"}}),r.createElement(f.Z,{variant:"subtitle2",sx:{p:1,color:"primary.darker"}},n.MobileNumber)),r.createElement(m.Z,{sx:{display:"flex",alignItems:"center"}},r.createElement(pe.Z,{sx:{width:20,color:"#0433ff"}}),r.createElement(f.Z,{variant:"subtitle2",sx:{p:1,color:"primary.darker"}},n.Address)))))})):null)))}}}]);